<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.5.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Alisa Liu">

  
  
  
    
  
  <meta name="description" content="Alisa Liu, Alex Fang, Gaëtan Hadjeres, Prem Seetharaman, Bryan Pardo
This summer,
Grading function Here are three chorales generated by the same model.
Your browser does not support the audio element.     Chorale 1   Your browser does not support the audio element.     Chorale 2   Your browser does not support the audio element.     Chorale 3   Which chorales did you think were better?">

  
  <link rel="alternate" hreflang="en-us" href="https://alisawuffles.github.io/post/aug-gen/">

  


  
  
  
  <meta name="theme-color" content="rgb(251, 191, 183)">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin="anonymous">
    

    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cutive+Mono%7CLora:400,700%7CRoboto:400,700&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://alisawuffles.github.io/post/aug-gen/">

  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Alisa Liu">
  <meta property="og:url" content="https://alisawuffles.github.io/post/aug-gen/">
  <meta property="og:title" content="Incorporating Music Knowledge in Continual Dataset Augmentation for Music Generation | Alisa Liu">
  <meta property="og:description" content="Alisa Liu, Alex Fang, Gaëtan Hadjeres, Prem Seetharaman, Bryan Pardo
This summer,
Grading function Here are three chorales generated by the same model.
Your browser does not support the audio element.     Chorale 1   Your browser does not support the audio element.     Chorale 2   Your browser does not support the audio element.     Chorale 3   Which chorales did you think were better?"><meta property="og:image" content="https://alisawuffles.github.io/img/icon-32.png">
  <meta property="twitter:image" content="https://alisawuffles.github.io/img/icon-32.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2020-07-18T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2020-09-22T16:25:46-07:00">
  

  


    






  






<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://alisawuffles.github.io/post/aug-gen/"
  },
  "headline": "Incorporating Music Knowledge in Continual Dataset Augmentation for Music Generation",
  
  "datePublished": "2020-07-18T00:00:00Z",
  "dateModified": "2020-09-22T16:25:46-07:00",
  
  "author": {
    "@type": "Person",
    "name": "Alisa Liu"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Alisa Liu",
    "logo": {
      "@type": "ImageObject",
      "url": "https://alisawuffles.github.io/img/icon-512.png"
    }
  },
  "description": "Alisa Liu, Alex Fang, Gaëtan Hadjeres, Prem Seetharaman, Bryan Pardo\nThis summer,\nGrading function Here are three chorales generated by the same model.\nYour browser does not support the audio element.     Chorale 1   Your browser does not support the audio element.     Chorale 2   Your browser does not support the audio element.     Chorale 3   Which chorales did you think were better?"
}
</script>

  

  


  


  





  <title>Incorporating Music Knowledge in Continual Dataset Augmentation for Music Generation | Alisa Liu</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Alisa Liu</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#publications"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#teaching"><span>Teaching</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#posts"><span>Posts</span></a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        

      </ul>

    </div>
  </div>
</nav>


  <article class="article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>Incorporating Music Knowledge in Continual Dataset Augmentation for Music Generation</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    09/22/20
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    3 min read
  </span>
  

  
  
  

  
  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style">
      <p><em>Alisa Liu, Alex Fang, Gaëtan Hadjeres, Prem Seetharaman, Bryan Pardo</em></p>

<p>This summer,</p>

<h2 id="grading-function">Grading function</h2>

<p>Here are three chorales generated by the same model.</p>

<p><audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/grading_function/54.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>














<figure>


  <a data-fancybox="" href="../../img/bach/54.png" data-caption="Chorale 1">
<img src="../../img/bach/54.png" alt="" width="60%" ></a>


  
  
  <figcaption>
    Chorale 1
  </figcaption>


</figure>

<audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/grading_function/304.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>














<figure>


  <a data-fancybox="" href="../../img/bach/304.png" data-caption="Chorale 2">
<img src="../../img/bach/304.png" alt="" width="60%" ></a>


  
  
  <figcaption>
    Chorale 2
  </figcaption>


</figure>

<audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/grading_function/93.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>














<figure>


  <a data-fancybox="" href="../../img/bach/93.png" data-caption="Chorale 3">
<img src="../../img/bach/93.png" alt="" width="60%" ></a>


  
  
  <figcaption>
    Chorale 3
  </figcaption>


</figure>
</p>

<p>Which chorales did you think were better? Here are the grades of the three chorales. <strong>Note:</strong> Since the grade is a distance measure, <em>lower grades are better!</em></p>

<table>
<thead>
<tr>
<th>Chorale</th>
<th>Overall Grade</th>
<th>Note</th>
<th>Rhythm</th>
<th>Parallel Errors</th>
<th>Harmonic Quality</th>
<th>S Intervals</th>
<th>A Intervals</th>
<th>T Intervals</th>
<th>B Intervals</th>
<th>Repeated Sequence</th>
</tr>
</thead>

<tbody>
<tr>
<td>1</td>
<td>54.026</td>
<td>0.314</td>
<td>0.413</td>
<td>44.835</td>
<td>1.645</td>
<td>0.923</td>
<td>1.344</td>
<td>0.988</td>
<td>0.948</td>
<td>2.617</td>
</tr>

<tr>
<td>2</td>
<td>8.386</td>
<td>0.167</td>
<td>0.327</td>
<td>2.031</td>
<td>0.567</td>
<td>0.640</td>
<td>0.498</td>
<td>0.720</td>
<td>0.996</td>
<td>2.440</td>
</tr>

<tr>
<td>3 (best)</td>
<td>3.893</td>
<td>0.301</td>
<td>0.199</td>
<td>0</td>
<td>0.328</td>
<td>0.345</td>
<td>0.396</td>
<td>0.680</td>
<td>0.597</td>
<td>1.047</td>
</tr>
</tbody>
</table>

<p>Chorale 1, while relatively short, is laden with parallel errors (especially in measure 3), which the grading function punishes. Chorale 2 has parallel octaves in measure 3 in the alto and bass voices (SATB order) starting on the second eighth note. Furthermore, it has seven D's in a row in the alto voice, which is punished by the &quot;repeated sequence&quot; portion of the grade. Chorale 3 contains no parallel errors.</p>

<h3 id="paired-evaluation">Paired evaluation</h3>

<p>Want to test yourself? In each pair, one chorale was written by Bach and one was model-generated. In each pair, the grading function assigns a better grade to Bach but the decision may be challenging and time-consuming for human listeners. The answers are here<sup class="footnote-ref" id="fnref:1"><a class="footnote" href="#fn:1">1</a></sup>.</p>

<h4 id="pair-1">Pair 1</h4>

<p><audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/pairs/pair_1/base_43.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>

<audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/pairs/pair_1/bach_24.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>
</p>

<h4 id="pair-2">Pair 2</h4>

<p><audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/pairs/pair_2/bach_30.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>

<audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/pairs/pair_2/base_13.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>
</p>

<h4 id="pair-3">Pair 3</h4>

<p><audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/pairs/pair_3/base_35.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>

<audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/pairs/pair_3/bach_43.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>
</p>

<h2 id="examples-from-augmentative-generation">Examples from augmentative generation</h2>

<p>Here are example generations from a model trained through the augmentative generation method we introduce in this paper, along with Bach chorales and the generations from two baselines.</p>

<h3 id="bach">Bach</h3>

<p>Two original Bach chorales!</p>

<p>BWV 297: <audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/models/bach225.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>

BWV 194.6: <audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/models/bach249.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>
</p>

<h3 id="augmentative-generation">Augmentative generation</h3>

<p>During training, augment the training dataset with all generated chorales that receive a grade better than 25% of Bach chorales.</p>

<p><audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/models/aug-gen8.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>

<audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/models/aug-gen26.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>
</p>

<h3 id="baselinenone">Baseline-none</h3>

<p>Do not include any generated chorales in the training dataset. This is equivalent to training a model on only Bach chorales, without dataset augmentation!</p>

<p><audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/models/base8.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>

<audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/models/base10.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>
</p>

<h3 id="baselineall">Baseline-all</h3>

<p>During training, augment the training dataset with all generated chorales, regardless of quality.
<audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/models/baseline5.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>

<audio controls style="width: 100%; margin-bottom: 20px">
    
    <source src="../../audio/bach/models/baseline6.mp3" type="audio/mpeg">
    
    Your browser does not support the audio element.
</audio>
</p>
<div class="footnotes">

<hr>

<ol>
<li id="fn:1">(1) first chorale is generated (grade: 7.98), second chorale is Bach (grade: 4.94). (2) first chorale is Bach (grade: 5.01), second chorale is generated (grade: 5.26). (3) first chorale is generated (grade: 8.76), second chorale is Bach (grade: 3.82). <strong>Note:</strong> Since the grade is a distance measure, <em>lower grades are better!</em>
 <a class="footnote-return" href="#fnref:1"><sup>^</sup></a></li>
</ol>
</div>

    </div>

    


















  






  
  
  
    
  
  
  <div class="media author-card content-widget-hr">
    
      
      <img class="portrait mr-3" src="/authors/admin/avatar_hua900f270671658e464912cd8d5414dc2_997179_250x250_fill_q90_lanczos_center.jpg" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://alisawuffles.github.io/">Alisa Liu</a></h5>
      
      <p class="card-text">Incoming first-year PhD student in the UW NLP group</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
    <li>
      <a href="mailto:alisaliu@cs.washington.edu" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?hl=en&amp;user=3-lTFAwAAAAJ" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://www.semanticscholar.org/author/Alisa-Liu/94500147" target="_blank" rel="noopener">
        <i class="ai ai-semantic-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/alisawuffles" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/alisa-l-28132b113/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="/files/cv.pdf" >
        <i class="ai ai-cv"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>









  
  



  </div>
</article>

      

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.3.1/mermaid.min.js" integrity="sha256-vOIuDSYDirTfyr+S2MjFnhOz6Rgiz4ODFAHATG0rFxw=" crossorigin="anonymous" title="mermaid"></script>
      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js" integrity="sha256-1zu+3BnLYV9LdiY85uXMzii3bdrkelyp37e0ZyTAQh0=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/r.min.js"></script>
        
      

      
      
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js" integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin="anonymous"></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.d6bd04fdad2ad213aa8111c5a3b72fc5.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
