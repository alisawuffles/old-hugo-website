<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.5.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Alisa Liu">

  
  
  
    
  
  <meta name="description" content="Built an ensemble model for audio source separation that can handle mixtures whose source domain is unknown, using a confidence measure to mediate among domain-specific models based on deep clustering.">

  
  <link rel="alternate" hreflang="en-us" href="https://alisawuffles.github.io/project/ensemble/">

  


  
  
  
  <meta name="theme-color" content="rgb(251, 191, 183)">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin="anonymous">
    

    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cutive+Mono%7CLora:400,700%7CRoboto:400,700&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://alisawuffles.github.io/project/ensemble/">

  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Alisa Liu">
  <meta property="og:url" content="https://alisawuffles.github.io/project/ensemble/">
  <meta property="og:title" content="Ensemble model for audio source separation | Alisa Liu">
  <meta property="og:description" content="Built an ensemble model for audio source separation that can handle mixtures whose source domain is unknown, using a confidence measure to mediate among domain-specific models based on deep clustering."><meta property="og:image" content="https://alisawuffles.github.io/project/ensemble/featured.png">
  <meta property="twitter:image" content="https://alisawuffles.github.io/project/ensemble/featured.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2019-10-01T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2019-11-30T01:07:09-06:00">
  

  


    











<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://alisawuffles.github.io/project/ensemble/"
  },
  "headline": "Ensemble model for audio source separation",
  
  "image": [
    "https://alisawuffles.github.io/project/ensemble/featured.png"
  ],
  
  "datePublished": "2019-10-01T00:00:00Z",
  "dateModified": "2019-11-30T01:07:09-06:00",
  
  "author": {
    "@type": "Person",
    "name": "Alisa Liu"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Alisa Liu",
    "logo": {
      "@type": "ImageObject",
      "url": "https://alisawuffles.github.io/img/icon-512.png"
    }
  },
  "description": "Built an ensemble model for audio source separation that can handle mixtures whose source domain is unknown, using a confidence measure to mediate among domain-specific models based on deep clustering."
}
</script>

  

  


  


  





  <title>Ensemble model for audio source separation | Alisa Liu</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Alisa Liu</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#projects"><span>Research Projects</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#publications"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#teaching"><span>Teaching</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#posts"><span>Posts</span></a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        

      </ul>

    </div>
  </div>
</nav>


  <article class="article article-project">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>Ensemble model for audio source separation</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    11/30/19
  </span>
  

  

  

  
  
  

  
  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style">
      <p>Built an ensemble model for audio source separation that can handle mixtures whose source domain is unknown, using a confidence measure to mediate among domain-specific models based on deep clustering. We derived a confidence measure based on the clusterability of the embedding space which approximates the separation quality without ground-truth comparison.</p>

<!-- As humans, we are able to distinguish individual sound sources in complex auditory scenes, as evidenced by our daily encounters with sound. In a crowded coffee shop, we can selectively attend to a friend speaking to us. When we step outdoors, we can identify a passing car, birds chirping, and distant voices. Listening to pop music, we can distinguish the vocals and the instrumental background. As we switch from one audio environment to the next, our brains actually shift among many different grouping mechanisms, such as direction of arrival (grouping sounds from the same spatial location), common fate (grouping sounds that start, stop, and move together), timbral similarity (grouping sources like voices and instruments by timbre), and so on.

In the same way that different audio mixtures require humans to leverage different cues, source separation models are traditionally trained to separate data of a specific domain, and are likely to fail when applied to mixtures unlike the training data.

To see this, consider three models, trained on music mixtures, speech mixtures, and environmental sound mixtures, and an audio clip from each of these three domain. Below, each mixture is separated by each model. We can verify that the separation quality is highest when a mixture is separated by a model trained on the same domain.

[table of audio clips here]

This fundamentally limits how source separation models can be deployed, requiring a user to know about a model's training to select the correct one for a given mixture. Imagine a hearing aid that automatically switches models when a user moves from the busy cafe to an outdoors environment, in the same way that our brain shifts among auditory cues. That is, we want a general source separation model that can handle mixtures where the source domain is unknown. To do this, we automate selection of the appropriate domain-specific model for a given audio mixture, via a confidence measure that does not require ground truth to estimate separation quality.

## A confidence-based ensemble
We automate selection of the appropriate domain-specific deep clustering source separation model for an audio mixture of unknown domain. We present a confidence measure that does not require ground truth to estimate separation quality, given a model and an audio mixture. We use this confidence measure to automatically select the best model output for the mixture.

### Deep clustering
We apply our method to **deep clustering** source separation networks. In deep clustering, a neural network is trained to map each time-frequency bin in a magnitude spectrogram of an audio mixture to a higher-dimensional embedding, such that bins that primarily contain energy from the same source are near each other and bins whose energy primarily come from different sound sources are far from each other. Given a good mapping, the assignment of bin to source can then be determined by a simple clustering method. All members of the same cluster are assigned to the same source. Because deep clustering performs separation via clustering, we develop a confidence measure that relies on the embedding space, with the core insight that the embedding space produced by deep clustering is indicative of the performance of the algorithm.

![deep-clustering](../../img/deep-clustering.png)

### Confidence measure
Define $X$ as the set of embeddings for every time-frequency point in an audio mixture, where $x\_i$ is the embedding of one point. $X$ is partitioned into $K$ clusters $C\_{k}$, that is, $X = \bigcup_{k=1}^K C_k$. Consider a data point $x_i$ assigned to cluster $C\_k$.

#### Silhouette score
The intercluster distance $a(x\_i)$ captures how much separation exists between the clusters. Specifically, it is the mean distance $x\_i$ and all the points in the nearest cluster $C\_\ell$.
$$a(x\_i) = \frac{1}{|C\_k| - 1} \sum_{\substack{x\_j \in C\_k,\\ x\_i \neq x\_j}} d(x\_i, x\_j)$$

The intracluster distance $b(x\_i)$ captures how dense the clusters are.  Specifically, it is the mean distance (using distance function $d$) between $x\_i$ and all other points in $C\_k$.
$$b(x\_i) = \min\_{\ell \neq k} \frac{1}{|C\_\ell|} \sum\_{x\_j \in C\_\ell} d(x\_i, x\_j)$$

Compute the _silhouette score_ of $x\_i$ as

$$S(x\_i) = \frac{b\left(x\_i\right) - a\left(x\_i\right)}{\max\left(a(x\_i), b(x\_i)\right)}$$

Note $S(x_i)$ ranges from $-1$ to $1$.

#### Posterior strength
For every point $x\_i$ in a dataset $X$, the soft K-means clustering algorithm produces $\gamma\_{ik} \in [0, 1]$, which indicates the membership of the point $x\_i$ in some cluster $C\_k$, also called the \textit{posterior} of the point $x\_i$ in regards to the cluster $C\_k$. The closer that $\gamma\_{ik}$ is to $0$ (not in the cluster) or $1$ (in the cluster), the more sure the assignment of that point. We compute the _posterior strength_ of $x\_i$ as follows:

$$P(x\_i) = \frac{K \left(\max\limits\_{k \in [0, ..., K]} \gamma\_{ij}\right) - 1}{K - 1}$$

The equation maps embeddings that have a maximum posterior of $\frac{1}{K}$ (equal assignment to all clusters) to $0$, and points that have a maximum posterior of $1$ to $1$.

The confidence measure $C(X)$ combines the silhouette score $S(X)$ and posterior strength $P(X)$ through multiplication so that it is high only when both are high. That is, $C(X)=S(X)P(X)$.

Below is a visualization of the confidence measure as applied to the distribution of points in a mixture produced by three trained deep clustering networks, each trained on a different domain. The input is a music mixture. The speech (left) and environmental (right) models return distributions with no clear clusters. The music model (middle) returns a more clusterable distribution, which is reflected by a higher confidence score.

![embedding-visualization](../../../img/embedding-visualization.png)

## Experiments
For each domain that we considered - separating two speakers in a speech mixture, separating vocals from accompaniment in music mixtures, and separating environmental sounds from one another - we train 3 deep clustering networks with identical setups. Each network has 2 BLSTM layers with 300 hidden units each and an embedding size of 20 with sigmoid activation. We trained each network for 80 epochs using the Adam optimizer (learning rate was 2e-4).

### Correlation with SDR
We first demonstrate that the confidence measure correlates well with source to distortion ratio (SDR), a widely used measure of source separation quality. Below, we see a clear relationship between confidence and performance for the speech model as applied to the speech test mixtures. Further, we see that both confidence and performance are a function of the mixture \textit{type}. Same-sex mixtures are harder to separate due to the frequency overlap between the speakers. This is reflected in Figure . For the other domains, we also observe strong correlations. A linear fit between the confidence measure and SDR applied to music mixtures separated by a deep cluster model trained on music mixtures returned an r-value of $0.46$ for vocals and $0.63$ for instrumentals. The linear fit for environmental sounds separated by a model trained on environmental sounds had an r-value of $.70$.

### Performance of the confidence-based ensemble
Then we evaluate the performance of our confidence-based ensemble compared to an oracle ensemble, a random ensemble, and each domain-specific model on general mixtures. The following table shows the performance of various approaches to separating each dataset. Values in the table represent the mean separation quality of each model (based on SDR) when evaluated on all 9,000 test mixtures.

| Approach              | Speech | Music  | Environmental |
|-----------------------|:------:|:------:|:-------------:|
| Ensemble -- oracle     | 8.37   | 6.55   | 12.21         |
| Ensemble -- random     | 4.86   | 4.25   | 2.82          |
| Ensemble -- confidence |**7.61**|**6.47**|**10.52**      |
| Speech model          | 8.29   | 2.06   | 3.03          |
| Music model           | 1.43   | 6.50   | 2.57          |
| Environmental model   | 2.16   | 1.77   | 11.94         |

The top three rows show the performance of three ensemble approaches, which switch between the three domain-specific models via different strategies. The oracle ensemble switches between them with knowledge of the true performance of each model. This is the upper bound for any switching system. The random ensemble randomly selects the model to apply to a given mixture, with equal probability. The confidence ensemble uses our confidence measure to select between the models. For each mixture, all three models are run and confidence measures are computed. The output from the model with the highest confidence is then chosen as the separation. The confidence-based ensemble significantly outperforms the random ensemble. In the case of music mixtures, the confidence-based model achieves almost oracle performance, with mean SDR of $6.47$ compared to $6.55$.

The bottom three rows show the performance of individual domain-specific models on all of the domains we consider. Predictably, every model shows poor performance on domains it was not trained on.

## Conclusion
We have presented a method for effectively combining the output of multiple deep clustering models by switching between them based on mixture domain in an unsupervised fashion. Our method works by analyzing the embedding produced by each deep clustering network to produce a confidence measure that is predictive of separation performance. This confidence measure can be applied to ensembles of any clustering-based separation algorithms. -->

    </div>

    





<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/research/">research</a>
  
  <a class="badge badge-light" href="/tags/audio/">audio</a>
  
</div>














  






  
  
  
    
  
  
  <div class="media author-card content-widget-hr">
    
      
      <img class="portrait mr-3" src="/authors/admin/avatar_hua900f270671658e464912cd8d5414dc2_997179_250x250_fill_q90_lanczos_center.jpg" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://alisawuffles.github.io/">Alisa Liu</a></h5>
      
      <p class="card-text">Undergraduate researcher at Northwestern interested in NLP and computer processing of audio &amp; music</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
    <li>
      <a href="mailto:alisa@u.northwestern.edu" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?hl=en&amp;user=3-lTFAwAAAAJ" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/alisawuffles" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/alisa-l-28132b113/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="/files/cv.pdf" >
        <i class="ai ai-cv"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>









  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/project/codah/">Common sense QA dataset</a></li>
      
      <li><a href="/project/multidef/">Analysis of error types in multi-sense definition generation</a></li>
      
    </ul>
  </div>
  



    <div class="project-related-pages content-widget-hr">
      
      

      
      
      

      
      
      
        <h2>Publications</h2>
        
          
            








  
  





  


<div class="media stream-item">
  <div class="media-body">

    <h3 class="article-title mb-0 mt-0">
      <a href="/publication/ensemble/" >Model Selection for Deep Audio Source Separation via Clustering Analysis</a>
    </h3>

    
    <div class="article-style">
      Ensemble model for audio source separation, using a confidence measure to mediate among domain-specific models
    </div>
    

    <div class="stream-meta article-metadata">

      

      
      <div>
        



  
  <span>Alisa Liu</span>, <span>Prem Seetharaman</span>, <span>Bryan Pardo</span>

      </div>
      
    </div>

    
    <div class="btn-links">
      








  
    
  



<a class="btn btn-outline-primary my-1 mr-1 btn-sm" href="https://arxiv.org/pdf/1910.12626.pdf" target="_blank" rel="noopener">
  PDF
</a>







  
  <a class="btn btn-outline-primary my-1 mr-1 btn-sm" href="/project/ensemble/">
    Project
  </a>
  




  





  
  
  
    
  
  
  
  
  
    
  
  <a class="btn btn-outline-primary my-1 mr-1 btn-sm" href="https://arxiv.org/abs/1910.12626" target="_blank" rel="noopener">
    
    ArXiv
  </a>


    </div>
    

  </div>
  <div class="ml-3">
    
    
  </div>
</div>

          
        
      

      
      
      
    </div>
  </div>
</article>

      

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.3.1/mermaid.min.js" integrity="sha256-vOIuDSYDirTfyr+S2MjFnhOz6Rgiz4ODFAHATG0rFxw=" crossorigin="anonymous" title="mermaid"></script>
      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js" integrity="sha256-1zu+3BnLYV9LdiY85uXMzii3bdrkelyp37e0ZyTAQh0=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/r.min.js"></script>
        
      

      
      
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js" integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin="anonymous"></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.d6bd04fdad2ad213aa8111c5a3b72fc5.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
